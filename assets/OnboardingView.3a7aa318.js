import{e as L,u as V,f as z,g,h as D,i as P,s as p,r as i,o as r,c as m,b as l,w as d,a as n,n as u,j as b,t as K,k as y,l as F,K as j,F as E,m as M,_ as q}from"./index.3cada64e.js";const G=M(" SKOLL "),H={class:"py-3"},J={class:"w-full md:w-9 mx-auto"},Q={class:"card sticky steps"},U=["href","onClick"],W={key:0,class:"pi pi-check text-white"},X=L({__name:"OnboardingView",setup(Y){const{t:a}=V(),k=z(),_=g([{label:a("onboarding.steps.basicData"),to:"/onboarding/basic-data",icon:"pi-building",step:"basic-data"},{label:a("onboarding.steps.customization"),to:"/onboarding/customization",icon:"pi-cog",step:"customization"},{label:a("onboarding.steps.products"),to:"/onboarding/products",icon:"pi-database",step:"products"},{label:a("onboarding.steps.bankAccount"),to:"/onboarding/bank",icon:"pi-dollar",step:"bank"},{label:a("onboarding.steps.documents"),to:"/onboarding/documents",icon:"pi-file",step:"documents"},{label:a("onboarding.steps.summary"),to:"/onboarding/summary",icon:"pi-list",step:"summary"}]),h=g([{label:"Cerrar sesi\xF3n",command:()=>{location.href="/"}}]),c=D();P(()=>{v()});const f=s=>{k.push(_.value[s.pageIndex+1].to)},v=async()=>{try{const s=await p.seller.associatedBusinesses();if(s.data.data.merchantAssociated.length>0){const e=s.data.data.merchantAssociated[0];x(e.apiKey,e.apiLogin)}}catch(s){console.error(s)}},x=async(s,e)=>{try{const o=await p.business.login(s,e);localStorage.setItem("token",o.data.data),N(),w()}catch(o){console.error(o)}},N=async()=>{try{const e=(await p.business.detail()).data.data,o={name:e.name,category:e.merchantCategory,email:e.email,phone:e.cellPhone,city:e.cityId,address:e.adress,kindOfPerson:e.kindOfPerson,documentType:e.documentType,documentNumber:e.documentNumber,companyName:e.bussinesName,taxRegime:e.taxRegime,legalRepresentative:{firstName:e.legalRepresentative.firstName,lastName:e.legalRepresentative.lastName,documentNumber:e.legalRepresentative.documentNumber,documentType:e.legalRepresentative.documentType}};c.setBasicData(o)}catch(s){console.error(s)}},w=async()=>{try{const e=(await p.business.getBank()).data.data.bankAccount[0],o={fullname:e.fullName,bank:e.bank,account:e.account,document:e.documentNumber,documentType:e.documentType,email:e.email,phone:e.phone,type:e.type};c.setBank(o)}catch(s){console.error(s)}};return(s,e)=>{const o=i("SplitButton"),B=i("Toolbar"),C=i("RouterLink"),R=i("Steps"),S=i("router-view");return r(),m(E,null,[l(B,{class:"sticky top-0 bg-white z-5"},{start:d(()=>[G]),end:d(()=>[l(o,{icon:"pi pi-user",class:"p-button-secondary",model:h.value},null,8,["model"])]),_:1}),n("div",H,[n("div",J,[n("div",Q,[l(R,{model:_.value,readonly:!1},{item:d(({item:t})=>[l(C,{to:t.to,custom:""},{default:d(({href:T,navigate:O,isActive:A,isExactActive:I})=>[n("a",{class:u(["p-menuitem-link",{"active-link":A,"exact-active-link":I}]),href:T,onClick:O},[n("span",{class:u(["p-steps-number",{"bg-green-500":b(c).stepsCompleted.includes(t.step)}])},[b(c).stepsCompleted.includes(t.step)?(r(),m("i",W)):(r(),m("i",{key:1,class:u(["pi",t.icon])},null,2))],2),n("span",{class:u(["mt-1 p-steps-title",{"text-green-500":b(c).stepsCompleted.includes(t.step)}])},K(t.label),3)],10,U)]),_:2},1032,["to"])]),_:1},8,["model"])]),l(S,{onNextPage:e[0]||(e[0]=t=>f(t))},{default:d(({Component:t})=>[(r(),y(j,null,[(r(),y(F(t)))],1024))]),_:1})])])],64)}}});const $=q(X,[["__scopeId","data-v-8448549e"]]);export{$ as default};
